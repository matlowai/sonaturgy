@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg-primary: #0f1117;
  --bg-secondary: #1a1b26;
  --bg-tertiary: #24253a;
  --text-primary: #e1e2e8;
  --text-secondary: #9ca0b0;
  --border: #2f3146;
  --accent: #5c7cfa;
  --accent-hover: #4263eb;
  --success: #40c057;
  --error: #fa5252;
  --warning: #fab005;
}

body {
  background-color: var(--bg-primary);
  color: var(--text-primary);
}

/* Custom scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg-secondary); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

/* Input styles */
input, textarea, select {
  background-color: var(--bg-tertiary) !important;
  border: 1px solid var(--border) !important;
  color: var(--text-primary) !important;
  border-radius: 0.375rem;
  padding: 0.5rem 0.75rem;
  font-size: 0.875rem;
  outline: none;
  transition: border-color 0.15s;
}
input:focus, textarea:focus, select:focus {
  border-color: var(--accent) !important;
}

/* Button base */
.btn {
  @apply px-4 py-2 rounded-md font-medium text-sm transition-colors duration-150 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed;
}
.btn-primary {
  background-color: var(--accent);
  color: white;
}
.btn-primary:hover:not(:disabled) {
  background-color: var(--accent-hover);
}
.btn-secondary {
  background-color: var(--bg-tertiary);
  border: 1px solid var(--border);
  color: var(--text-primary);
}
.btn-secondary:hover:not(:disabled) {
  background-color: var(--border);
}
.btn-sm {
  @apply px-3 py-1.5 text-xs;
}

/* Card */
.card {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  padding: 1rem;
}

/* Label */
.label {
  @apply block text-sm font-medium mb-1;
  color: var(--text-secondary);
}

/* Section */
.section-title {
  @apply text-base font-semibold mb-3;
  color: var(--text-primary);
}

/* Status badge */
.badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
}
.badge-success { background-color: rgba(64,192,87,0.15); color: var(--success); }
.badge-error { background-color: rgba(250,82,82,0.15); color: var(--error); }
.badge-warning { background-color: rgba(250,176,5,0.15); color: var(--warning); }
.badge-info { background-color: rgba(92,124,250,0.15); color: var(--accent); }

/* Progress bar */
.progress-bar {
  @apply w-full h-2 rounded-full overflow-hidden;
  background-color: var(--bg-tertiary);
}
.progress-fill {
  @apply h-full rounded-full transition-all duration-300;
  background-color: var(--accent);
}

/* Toast */
.toast {
  @apply fixed bottom-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg text-sm max-w-md;
  animation: slideIn 0.3s ease-out;
}
.toast-info { background-color: #1c2333; border: 1px solid var(--accent); }
.toast-success { background-color: #1a2e1a; border: 1px solid var(--success); }
.toast-error { background-color: #2e1a1a; border: 1px solid var(--error); }

@keyframes slideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

/* Slider */
input[type="range"] {
  @apply w-full h-2 rounded-full appearance-none cursor-pointer;
  background: var(--bg-tertiary) !important;
  border: none !important;
  padding: 0 !important;
}
input[type="range"]::-webkit-slider-thumb {
  @apply appearance-none w-4 h-4 rounded-full;
  background: var(--accent);
  cursor: pointer;
}

/* Checkbox */
input[type="checkbox"] {
  @apply w-4 h-4 rounded cursor-pointer;
  accent-color: var(--accent);
  padding: 0 !important;
}

/* Collapsible */
.collapsible-header {
  @apply flex items-center justify-between cursor-pointer py-2 px-3 rounded-md;
  background-color: var(--bg-tertiary);
}
.collapsible-header:hover {
  background-color: var(--border);
}

/* ── Audio Source Viewer: WaveSurfer Region Handles ───── */

/* Region body: grab cursor, no accidental click-to-play */
.audio-source-viewer [part="region"] {
  cursor: grab !important;
  z-index: 3;
}
.audio-source-viewer [part="region"]:active {
  cursor: grabbing !important;
}

/* Region resize handles — wide red bars that extend above/below waveform */
.audio-source-viewer [part="region-handle"] {
  width: 5px !important;
  background: rgba(255, 80, 80, 0.7) !important;
  border-radius: 2px !important;
  top: -6px !important;
  height: calc(100% + 12px) !important;
  cursor: col-resize !important;
  z-index: 10 !important;
  transition: background 0.1s, width 0.1s;
}
.audio-source-viewer [part="region-handle"]:hover {
  background: rgba(255, 80, 80, 1) !important;
  width: 7px !important;
}
